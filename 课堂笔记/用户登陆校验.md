用户权限校验

* 需求：在每次请求之前，校验用户的身份信息，从token提取用户id
  * 使用请求钩子实现，在每次请求前都会执行，@app.before_request
* g对象，应用上下文对象，在请求过程中可以临时存储数据
* 步骤：
  * 1.封装工具，/utils/middleares.py
  * 2.定义函数，获取用户头信息，Authorization
  * 3.从payload中提取用户id,把用户id赋值给g对象



登陆验证装饰器

* 需求：取出用户信息后，判断用户是否登陆，如果登陆后，可以进入视图，否则不允许进入视图
* 实现步骤
* 定义一个Login_required的函数，函数接收一个fun,这个参数实际上要被装饰的目标函数
* 在login_required函数，使用functools.wraps装饰器创建一个新的包装函数wraps
* 检查g, user_id是否存在且不为空，如果g.user_id不存在或者为空，意味着用户未登陆
* g.user_id存在则用户已登陆